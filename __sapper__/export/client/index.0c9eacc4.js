import{S as t,i as s,s as e,a as o,e as n,t as a,c as l,b as r,d as c,f as i,g as h,h as u,j as f,k as d,l as v,m as $,n as p,o as b,p as k,q as m,r as g,u as y,v as x,w as E,x as w,y as B,z as D,A as _,B as j,C as I,D as V}from"./client.c3df778d.js";function C(t){let s,e,b,k,m,g,y,x,E,w;return{c(){s=o(),e=n("div"),b=n("h1"),k=a(t[0]),m=o(),g=n("h5"),y=a("By @ "),x=a(t[1]),this.h()},l(o){s=l(o),e=r(o,"DIV",{class:!0,style:!0});var n=c(e);b=r(n,"H1",{class:!0});var a=c(b);k=i(a,t[0]),a.forEach(h),m=l(n),g=r(n,"H5",{class:!0});var u=c(g);y=i(u,"By @ "),x=i(u,t[1]),u.forEach(h),n.forEach(h),this.h()},h(){u(b,"class","title svelte-1168y8c"),u(g,"class","author svelte-1168y8c"),u(e,"class","book svelte-1168y8c"),u(e,"style",t[4])},m(o,n){f(o,s,n),f(o,e,n),d(e,b),d(b,k),d(e,m),d(e,g),d(g,y),d(g,x),t[5](e),E||(w=v(e,"click",t[6]),E=!0)},p(t,[s]){1&s&&$(k,t[0]),2&s&&$(x,t[1]),16&s&&u(e,"style",t[4])},i:p,o:p,d(o){o&&h(s),o&&h(e),t[5](null),E=!1,w()}}}function q(t,s,e){let o,n,{title:a}=s,{author:l="CodeBook"}=s,{url:r}=s;b((function(){const t=o.clientWidth/(18.4/26);e(4,n=`height: ${t}px`)}));return t.$$set=t=>{"title"in t&&e(0,a=t.title),"author"in t&&e(1,l=t.author),"url"in t&&e(2,r=t.url)},[a,l,r,o,n,function(t){k[t?"unshift":"push"]((()=>{o=t,e(3,o)}))},()=>m(r)]}class H extends t{constructor(t){super(),s(this,t,q,C,e,{title:0,author:1,url:2})}}function z(t,s,e){const o=t.slice();return o[1]=s[e],o[3]=e,o}function A(t,s){let e,a,i,v;return a=new H({props:{title:s[1],url:`book/${s[1]}`}}),{key:t,first:null,c(){e=n("div"),g(a.$$.fragment),i=o(),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=c(e);y(a.$$.fragment,s),i=l(s),s.forEach(h),this.h()},h(){u(e,"class","book__item"),this.first=e},m(t,s){f(t,e,s),x(a,e,null),d(e,i),v=!0},p(t,e){s=t;const o={};1&e&&(o.title=s[1]),1&e&&(o.url=`book/${s[1]}`),a.$set(o)},i(t){v||(E(a.$$.fragment,t),v=!0)},o(t){w(a.$$.fragment,t),v=!1},d(t){t&&h(e),B(a)}}}function F(t){let s,e,a,i,v=[],$=new Map,p=t[0];const b=t=>`${t[1]}_${t[3]}`;for(let s=0;s<p.length;s+=1){let e=z(t,p,s),o=b(e);$.set(o,v[s]=A(o,e))}return{c(){s=o(),e=n("div"),a=n("div");for(let t=0;t<v.length;t+=1)v[t].c();this.h()},l(t){D('[data-svelte="svelte-1spq4rs"]',document.head).forEach(h),s=l(t),e=r(t,"DIV",{class:!0});var o=c(e);a=r(o,"DIV",{class:!0});var n=c(a);for(let t=0;t<v.length;t+=1)v[t].l(n);n.forEach(h),o.forEach(h),this.h()},h(){document.title="CodeBook | 有质感的编程",u(a,"class","book__list svelte-1ba5ghb"),u(e,"class","home svelte-1ba5ghb")},m(t,o){f(t,s,o),f(t,e,o),d(e,a);for(let t=0;t<v.length;t+=1)v[t].m(a,null);i=!0},p(t,[s]){1&s&&(p=t[0],I(),v=_(v,s,b,1,t,p,$,a,V,A,null,z),j())},i(t){if(!i){for(let t=0;t<p.length;t+=1)E(v[t]);i=!0}},o(t){for(let t=0;t<v.length;t+=1)w(v[t]);i=!1},d(t){t&&h(s),t&&h(e);for(let t=0;t<v.length;t+=1)v[t].d()}}}var M=function(t,s,e,o){return new(e||(e=Promise))((function(n,a){function l(t){try{c(o.next(t))}catch(t){a(t)}}function r(t){try{c(o.throw(t))}catch(t){a(t)}}function c(t){var s;t.done?n(t.value):(s=t.value,s instanceof e?s:new e((function(t){t(s)}))).then(l,r)}c((o=o.apply(t,s||[])).next())}))};function N(){return M(this,void 0,void 0,(function*(){const t=yield this.fetch("index.json");if(200===t.status){const{books:s}=yield t.json();return{books:s}}this.error(404,"Not Found")}))}function P(t,s,e){let{books:o}=s;return t.$$set=t=>{"books"in t&&e(0,o=t.books)},[o]}export default class extends t{constructor(t){super(),s(this,t,P,F,e,{books:0})}}export{N as preload};
