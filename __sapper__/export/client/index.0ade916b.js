import{S as t,i as s,s as e,a as o,e as n,t as a,c as l,b as r,d as i,f as c,g as h,h as u,j as f,k as d,l as v,n as b,o as p,m as $,p as m,q as g,r as k,u as y,v as x,w as E,x as w,y as B,z as _,A as j,B as D}from"./client.4898b169.js";function I(t){let s,e,p,$,m,g,k,y;return{c(){s=o(),e=n("a"),p=n("h1"),$=a(t[0]),m=o(),g=n("h5"),k=a("By @ "),y=a(t[1]),this.h()},l(o){s=l(o),e=r(o,"A",{class:!0,style:!0,href:!0});var n=i(e);p=r(n,"H1",{class:!0});var a=i(p);$=c(a,t[0]),a.forEach(h),m=l(n),g=r(n,"H5",{class:!0});var u=i(g);k=c(u,"By @ "),y=c(u,t[1]),u.forEach(h),n.forEach(h),this.h()},h(){u(p,"class","title svelte-esp8bd"),u(g,"class","author svelte-esp8bd"),u(e,"class","book svelte-esp8bd"),u(e,"style",t[4]),u(e,"href",t[2])},m(o,n){f(o,s,n),f(o,e,n),d(e,p),d(p,$),d(e,m),d(e,g),d(g,k),d(g,y),t[5](e)},p(t,[s]){1&s&&v($,t[0]),2&s&&v(y,t[1]),16&s&&u(e,"style",t[4]),4&s&&u(e,"href",t[2])},i:b,o:b,d(o){o&&h(s),o&&h(e),t[5](null)}}}function V(t,s,e){let o,n,{title:a}=s,{author:l="CodeBook"}=s,{url:r}=s;return p((function(){const t=o.clientWidth/(18.4/26);e(4,n=`height: ${t}px`)})),t.$$set=t=>{"title"in t&&e(0,a=t.title),"author"in t&&e(1,l=t.author),"url"in t&&e(2,r=t.url)},[a,l,r,o,n,function(t){$[t?"unshift":"push"]((()=>{o=t,e(3,o)}))}]}class q extends t{constructor(t){super(),s(this,t,V,I,e,{title:0,author:1,url:2})}}function A(t,s,e){const o=t.slice();return o[1]=s[e],o[3]=e,o}function C(t,s){let e,a,c,v;return a=new q({props:{title:s[1],url:`book/${s[1]}`}}),{key:t,first:null,c(){e=n("div"),m(a.$$.fragment),c=o(),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=i(e);g(a.$$.fragment,s),c=l(s),s.forEach(h),this.h()},h(){u(e,"class","book__item"),this.first=e},m(t,s){f(t,e,s),k(a,e,null),d(e,c),v=!0},p(t,e){s=t;const o={};1&e&&(o.title=s[1]),1&e&&(o.url=`book/${s[1]}`),a.$set(o)},i(t){v||(y(a.$$.fragment,t),v=!0)},o(t){x(a.$$.fragment,t),v=!1},d(t){t&&h(e),E(a)}}}function H(t){let s,e,a,c,v=[],b=new Map,p=t[0];const $=t=>`${t[1]}_${t[3]}`;for(let s=0;s<p.length;s+=1){let e=A(t,p,s),o=$(e);b.set(o,v[s]=C(o,e))}return{c(){s=o(),e=n("div"),a=n("div");for(let t=0;t<v.length;t+=1)v[t].c();this.h()},l(t){w('[data-svelte="svelte-1spq4rs"]',document.head).forEach(h),s=l(t),e=r(t,"DIV",{class:!0});var o=i(e);a=r(o,"DIV",{class:!0});var n=i(a);for(let t=0;t<v.length;t+=1)v[t].l(n);n.forEach(h),o.forEach(h),this.h()},h(){document.title="CodeBook | 有质感的编程",u(a,"class","book__list svelte-1ba5ghb"),u(e,"class","home svelte-1ba5ghb")},m(t,o){f(t,s,o),f(t,e,o),d(e,a);for(let t=0;t<v.length;t+=1)v[t].m(a,null);c=!0},p(t,[s]){1&s&&(p=t[0],j(),v=B(v,s,$,1,t,p,b,a,D,C,null,A),_())},i(t){if(!c){for(let t=0;t<p.length;t+=1)y(v[t]);c=!0}},o(t){for(let t=0;t<v.length;t+=1)x(v[t]);c=!1},d(t){t&&h(s),t&&h(e);for(let t=0;t<v.length;t+=1)v[t].d()}}}var z=function(t,s,e,o){return new(e||(e=Promise))((function(n,a){function l(t){try{i(o.next(t))}catch(t){a(t)}}function r(t){try{i(o.throw(t))}catch(t){a(t)}}function i(t){var s;t.done?n(t.value):(s=t.value,s instanceof e?s:new e((function(t){t(s)}))).then(l,r)}i((o=o.apply(t,s||[])).next())}))};function F(){return z(this,void 0,void 0,(function*(){const t=yield this.fetch("index.json");if(200===t.status){const{books:s}=yield t.json();return{books:s}}this.error(404,"Not Found")}))}function M(t,s,e){let{books:o}=s;return t.$$set=t=>{"books"in t&&e(0,o=t.books)},[o]}export default class extends t{constructor(t){super(),s(this,t,M,H,e,{books:0})}}export{F as preload};
