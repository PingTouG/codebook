---
title: Wigets学习之BottomSheet
slug: Flutter Wiget
time: 2021-6-30 19:4:45
author: PingTouG
---

`Flutter`提供了两个方法来唤起`BottomSheet`：`showBottomSheet`、`showModalBottomSheet`

## showBottomSheet

> 从底部弹出一个弹出层

- `context`：上下文(必填)
- `builder`：弹出层内容生成函数(必填)
- `backgroundColor`：背景色
- `elevation`：阴影

```dart
import 'package:flutter/material.dart';

void main() {
  runApp(App());
}

class App extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'BottomSheet学习',
      home: Home(),
    );
  }
}

class Home extends StatefulWidget {
  Home({Key? key}) : super(key: key);

  _HomeState createState() => _HomeState();
}

class _HomeState extends State<Home> {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text("BottomSheet学习"),
      ),
      body: Container(
        child: BottomSheetButton(),
      ),
    );
  }
}

class BottomSheetButton extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return OutlinedButton(
      onPressed: () {
        showBottomSheet(
            context: context,
            backgroundColor: Colors.blue.shade50,
            elevation: 12,
            builder: (BuildContext context) {
              return Container(
                height: 600,
                child: GridView.count(
                  crossAxisCount: 4,
                  mainAxisSpacing: 12,
                  crossAxisSpacing: 12,
                  children: List.generate(
                      8,
                      (index) => Container(
                            child: Icon(Icons.ac_unit),
                            color: Colors.blue,
                          )),
                ),
              );
            });
      },
      child: Text("打开BottomSheet"),
    );
  }
}
```

> 注意：`showBottomSheet`实际调用`Scaffold.of(context).showBottomSheet`，如果在同一层级中拿不到`Scaffold`会报`No Scaffold widget found`,所以在使用时可以封装一下

## showModalBottomSheet

> 从底部弹出一个带有遮罩的弹出层

- `context`：上下文(必填)
- `builder`：弹出层内容生成函数
- `backgroundColor`：背景色
- `elevation`：阴影
- `barrierColor`：遮罩颜色
- `isScrollControlled`：是否可滚动

```dart
import 'package:flutter/material.dart';

void main() {
  runApp(App());
}

class App extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'BottomSheet学习',
      home: Home(),
    );
  }
}

class Home extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text("BottomSheet学习"),
      ),
      body: OutlinedButton(
        child: Text("打开BottomSheet"),
        onPressed: () {
          showModalBottomSheet(
              context: context,
              backgroundColor: Colors.blue.shade50,
              elevation: 12,
              builder: (BuildContext context) {
                return GridView.count(
                  crossAxisCount: 4,
                  mainAxisSpacing: 12,
                  crossAxisSpacing: 12,
                  children: List.generate(
                      8,
                      (index) => Container(
                            child: Icon(Icons.ac_unit),
                            color: Colors.blue,
                          )),
                );
              });
        },
      ),
    );
  }
}
```
