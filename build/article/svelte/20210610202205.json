{"title":"SvelteKit：一个基于Svelte开发服务端渲染网站的框架","slug":"svelte kit","time":"2021-05-24T16:59:55.000Z","author":"PingTouG","html":"<blockquote>\n<p><code>SvelteKit</code>是一个用于构建各种规模的<code>Web</code>应用程序的框架且具有出色的开发体验和基于文件系统的灵活路由。\n<br />\n与单页应用程序不同，<code>SvelteKit</code>不会在<code>SEO</code>，渐进增强或初始加载体验上做出让步-但与传统的服务器呈现的应用程序不同，导航是即时的，类似于应用程序的感觉。<code>(摘自SvelteKit官网)</code></p>\n</blockquote>\n<h2 id=\"入门\">入门</h2>\n<pre><code class=\"language-bash\"><span class=\"hljs-built_in\">npm</span> init svelte@next my-app\ncd my-app\n<span class=\"hljs-built_in\">npm</span> install\n<span class=\"hljs-built_in\">npm</span> run dev\n</code></pre>\n<p><code>SvelteKit</code>是基于<code>Svelte</code>构建的一个服务端渲染框架，对标的是<code>React</code>的<code>Next</code>框架，最初是基于<code>Snowpack</code>打包的，后来<code>Vite</code>出来之后，团队将其迁移到了<code>Vite</code>。此框架有三大特点：</p>\n<ul>\n<li>基于<code>Svelte</code></li>\n<li>友好的服务端渲染，<code>SEO</code>，渐进式增强，以及<code>SPA</code>的流畅导航。</li>\n<li>使用基于文件系统的路由，代码拆分，离线支持。</li>\n</ul>\n<p>总之如果你想尝试<code>Svelte</code>技术栈的话，此框架是开发的不二选择。你现在的所看到的网站就是用<code>SvelteKit</code>开发的静态网站。</p>\n<h2 id=\"router路由\">router(路由)</h2>\n<p><code>SvelteKit</code>是基于文件系统的生成的路由，默认在<code>src/routes</code>的<code>.svelte</code>文件都是一个页面，路由就是文件名且区分大小写。如：<code>routes/about.svelte</code>→<code>/about</code>、<code>routes/userHome.svelte</code>→<code>/userHome</code>。所以建议使用<code>短横线</code>命名法命名文件，即：<code>user-home</code>。</p>\n<h2 id=\"嵌套路由\">嵌套路由</h2>\n<p>实现嵌套路由就只需嵌套目录即可，目录下的<code>index.svelte</code>会自动将当前目录名转换为路由。如：<code>routes/news/index.svelte</code>→<code>/news</code>、<code>routes/news/list.svelte</code>→<code>/news/list</code>。</p>\n<h3 id=\"动态路由\">动态路由</h3>\n<p>如果需要使用动态路由可以使用<code>[路由名].svelte</code>来命名文件，如：<code>routes/news/[id].svelte</code>→<code>/news/:id</code>。其动态的路由可作为<code>params</code>参数传入页面中，获取方法会在下面说明。\n<br />\n如果需要多个动态参数传入的话，可使用<code>-</code>分割。如：<code>routes/news/[category]-[id].svelte</code>→<code>/news/:idcategory/:id</code>。\n<br />\n如果路由的动态数量未知，可以使用剩余参数，即：<code>routes/[tree]/[dir]/[...file]</code>→<code>/:tree/:dir/...file</code>。如：<code>routes/master/docs/router/01.md</code>解析为<code>master</code>→<code>tree</code>、<code>dir</code>→<code>docs</code>、<code>file</code>→<code>router/01.md</code></p>\n<h2 id=\"layout布局\">layout(布局)</h2>\n<p>如果需要使用布局模板的话，可以在其目录下创建<code>__layout.svelte</code>，则此目录下的所有页面都会应用此布局。布局页中必须含有<code>&lt;slot&gt;&lt;/slot&gt;</code>，其代表页面内容在布局页的位置。如果在<code>routes</code>下创建一个<code>__layout.svelte</code>则所有页面都会应用此布局，如果想重置布局，则在其目录下创建一个<code>__layout.reset.svelte</code>文件即可，然后此目录下的所有页面都会应用此布局，而不会布局中含有布局。如果需要嵌套布局则在目录下继续创建一个<code>__layout.svelte</code>即可。</p>\n<h2 id=\"error错误页面\">error(错误页面)</h2>\n"}